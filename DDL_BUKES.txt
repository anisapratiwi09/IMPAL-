CREATE TABLE BUKU  (
	id_buku CHAR(5) NOT NULL,
	namaBuku VARCHAR2(30),
	tahunBuku VARCHAR2(4),
	pengarang VARCHAR2(50),
	hargaBuku NUMBER,
	penerbit VARCHAR2(30),
	synopsis VARCHAR2(300),
);
ALTER TABLE BUKU ADD CONSTRAINT BUKU_PK PRIMARY KEY (id_buku);

CREATE TABLE ADMIN  (
	username VARCHAR(20) NOT NULL,
	password VARCHAR2(30),
);

ALTER TABLE ADMIN ADD CONSTRAINT ADMIN_PK PRIMARY KEY (username);

CREATE TABLE CUSTOMER  (
	id_cust CHAR(10) NOT NULL,
	namaCust VARCHAR2(30),
      	alamat VARCHAR2(50),
	no_Telp VARCHAR2(12),
	email VARCHAR2(30),
	lokasi VARCHAR2(100),
	password VARCHAR2(30),
);

ALTER TABLE CUSTOMER ADD CONSTRAINT CUSTOMER_PK PRIMARY KEY (id_cust);


CREATE TABLE PENJUAL  (
	id_penjual CHAR(10) NOT NULL,
	namaPenjual VARCHAR2(30),
      	alamat VARCHAR2(50),
	no_Telp VARCHAR2(12),
	email VARCHAR2(30),
	lokasi VARCHAR2(100),
	password VARCHAR2(30),
);

ALTER TABLE PENJUAL ADD CONSTRAINT PENJUAL_PK PRIMARY KEY (id_penjual);

CREATE TABLE BANK  (
	noRek VARCHAR(20) NOT NULL,
	namaBank VARCHAR2(30),
	namaRek VARCHAR2(12),
);

ALTER TABLE BANK ADD CONSTRAINT BANK_PK PRIMARY KEY (noRek);

CREATE TABLE PEMESANAN  (
	id_pemesanan CHAR(10) NOT NULL,
	id_penjual CHAR(10),
	id_cust CHAR(10),
	id_Buku CHAR(10),
	id_transaksi CHAR(10),
	username VARCHAR(20),
	tglPemesanan DATE,
	statusPemesanan VARCHAR(10),
	jumlahPemesanan NUMBER,
	totalHarga NUMBER,
);

ALTER TABLE PEMESANAN ADD CONSTRAINT PEMESANAN_PK PRIMARY KEY (id_pemesanan);
ALTER TABLE PEMESAN ADD CONSTRAINT PEMESANAN_FK1 FOREIGN KEY (id_cust) REFERENCE CUSTOMER (id_cust);
ALTER TABLE PEMESAN ADD CONSTRAINT PEMESANAN_FK2 FOREIGN KEY (id_penjual) REFERENCE PENJUAL (id_penjual);
ALTER TABLE PEMESAN ADD CONSTRAINT PEMESANAN_FK3 FOREIGN KEY (username) REFERENCE ADMIN (username);
ALTER TABLE PEMESAN ADD CONSTRAINT PEMESANAN_FK4 FOREIGN KEY (id_buku) REFERENCE BUKU (id_buku);
ALTER TABLE PEMESAN ADD CONSTRAINT PEMESANAN_FK5 FOREIGN KEY (id_transaksi) REFERENCE TRANSAKSI (id_transaksi);

CREATE TABLE TRANSAKSI  (
	id_transaksi CHAR(10) NOT NULL,
	tgl_transaksi VARCHAR (20),
	jenis_transaksi VARCHAR (50),
	status VARCHAR (20),
	batas_transaksi (20),
	id_pemesanan CHAR(10),
	noRek VARCHAR(20),	
);

ALTER TABLE TRANSAKSI ADD CONSTRAINT TRANSAKSI_PK PRIMARY KEY (id_transaksi);
ALTER TABLE TRANSAKSI ADD CONSTRAINT PEMESANAN_FK1 FOREIGN KEY (noRek) REFERENCE BANK (noRek);
ALTER TABLE TRANSAKSI ADD CONSTRAINT PEMESANAN_FK2 FOREIGN KEY (id_pemesanan) REFERENCE PEMESANAN (id_pemesanan);

CREATE TABLE CHATTING (
	id_chatting CHAR(10) NOT NULL,
	id_penjual VARCHAR (10),
	id_cust CHAR (10),
	id_buku VARCHAR(10),
	tanggal_char VARCHAR(10),
	pesan_chat VARCHAR(225),
	status_baca VARCHAR(10),

);

ALTER TABLE CHATTING ADD CONSTRAINT CHATTING_PK PRIMARY KEY (id_chatting);
ALTER TABLE CHATTING ADD CONSTRAINT CHATTING_FK1 FOREIGN KEY (id_cust) REFERENCE CUSTOMER (id_cust);
ALTER TABLE CHATTING ADD CONSTRAINT CHATTING_FK2 FOREIGN KEY (id_penjual) REFERENCE PENJUAL (id_penjual);
ALTER TABLE CHATTING ADD CONSTRAINT CHATTING_FK3 FOREIGN KEY (id_buku) REFERENCE BUKU (id_buku);

CREATE TABLE REVIEW (
	id_review VARCHAR (10) NOT NULL,
	id_cust CHAR(10),
	id_buku CHAR(5)
	id_penjual VARCHAR (10),
	nomor_review VARCHAR (10),
	rating INTEGER(5),
	jumlah_bintang INTEGER(10),
	komentar VARCHAR(225),
);
ALTER TABLE REVIEW ADD CONSTRAINT REVIEW_PK PRIMARY KEY (id_review);
ALTER TABLE REVIEW ADD CONSTRAINT REVIEW_FK1 FOREIGN KEY (id_cust) REFERENCE CUSTOMER (id_cust);
ALTER TABLE REVIEW ADD CONSTRAINT REVIEW_FK2 FOREIGN KEY (id_penjual) REFERENCE PENJUAL (id_penjual);
ALTER TABLE REVIEW ADD CONSTRAINT REVIEW_FK3 FOREIGN KEY (id_buku) REFERENCE BUKU (id_buku);
